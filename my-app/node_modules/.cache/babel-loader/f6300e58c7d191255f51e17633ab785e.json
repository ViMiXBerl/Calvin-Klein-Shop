{"ast":null,"code":"import axios from \"axios\";\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL } from \"constants/productConstants\";\nexport const request = () => {\n  return {\n    type: PRODUCT_LIST_REQUEST\n  };\n};\nexport const success = () => {\n  return {\n    type: PRODUCT_LIST_SUCCESS\n  };\n};\nexport const fail = () => {\n  return {\n    type: PRODUCT_LIST_FAIL\n  };\n};\nexport const fetchListProducts = () => {\n  return async dispath => {\n    try {\n      dispath({\n        type: PRODUCT_LIST_REQUEST\n      });\n      const {\n        data\n      } = await axios.get(\"/api/products\");\n      dispath({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispath({\n        type: PRODUCT_LIST_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};","map":{"version":3,"sources":["D:/DIPLOM/my-app/src/modules/redux/actions.ts"],"names":["axios","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","request","type","success","fail","fetchListProducts","dispath","data","get","payload","error","response","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,SACCC,oBADD,EAECC,oBAFD,EAGCC,iBAHD,QAIO,4BAJP;AAMA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC5B,SAAO;AAAEC,IAAAA,IAAI,EAAEJ;AAAR,GAAP;AACA,CAFM;AAIP,OAAO,MAAMK,OAAO,GAAG,MAAM;AAC5B,SAAO;AAAED,IAAAA,IAAI,EAAEH;AAAR,GAAP;AACA,CAFM;AAIP,OAAO,MAAMK,IAAI,GAAG,MAAM;AACzB,SAAO;AAAEF,IAAAA,IAAI,EAAEF;AAAR,GAAP;AACA,CAFM;AAIP,OAAO,MAAMK,iBAAiB,GAAG,MAK5B;AACJ,SAAO,MAAOC,OAAP,IAAmB;AACzB,QAAI;AACHA,MAAAA,OAAO,CAAC;AAAEJ,QAAAA,IAAI,EAAEJ;AAAR,OAAD,CAAP;AAEA,YAAM;AAAES,QAAAA;AAAF,UAAW,MAAMV,KAAK,CAACW,GAAN,CAAU,eAAV,CAAvB;AAEAF,MAAAA,OAAO,CAAC;AAAEJ,QAAAA,IAAI,EAAEH,oBAAR;AAA8BU,QAAAA,OAAO,EAAEF;AAAvC,OAAD,CAAP;AACA,KAND,CAME,OAAOG,KAAP,EAAc;AACfJ,MAAAA,OAAO,CAAC;AACPJ,QAAAA,IAAI,EAAEF,iBADC;AAEPS,QAAAA,OAAO,EACNC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,GACGF,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OADvB,GAEGF,KAAK,CAACE;AALH,OAAD,CAAP;AAOA;AACD,GAhBD;AAiBA,CAvBM","sourcesContent":["import axios from \"axios\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { IInitialState } from \"./types\";\r\nimport { Action } from \"redux\";\r\nimport {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n} from \"constants/productConstants\";\r\n\r\nexport const request = () => {\r\n\treturn { type: PRODUCT_LIST_REQUEST };\r\n};\r\n\r\nexport const success = () => {\r\n\treturn { type: PRODUCT_LIST_SUCCESS };\r\n};\r\n\r\nexport const fail = () => {\r\n\treturn { type: PRODUCT_LIST_FAIL };\r\n};\r\n\r\nexport const fetchListProducts = (): ThunkAction<\r\n\tvoid,\r\n\tIInitialState,\r\n\tnull,\r\n\tAction\r\n> => {\r\n\treturn async (dispath) => {\r\n\t\ttry {\r\n\t\t\tdispath({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(\"/api/products\");\r\n\r\n\t\t\tdispath({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispath({\r\n\t\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}